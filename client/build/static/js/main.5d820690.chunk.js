(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{164:function(e,t,a){},241:function(e,t,a){e.exports=a.p+"static/media/scvlogo.001b21b6.png"},242:function(e,t,a){e.exports=a.p+"static/media/koislogo.e5789706.png"},248:function(e,t,a){e.exports=a(505)},505:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),l=a.n(i),o=a(30),c=(a(253),a(164),a(507)),s=a(511),u=a(8),m=a(512),p=a(39),d=a(54),f=a(15),h=a.n(f),E=a(21),g=a(510),v=a(514),b=a(53),y=a(227),k=a(228),w=a(62),x=a.n(w),j=function(){function e(){Object(y.a)(this,e)}return Object(k.a)(e,null,[{key:"register",value:function(){var e=Object(E.a)(h.a.mark((function e(t,a,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(h.a.mark((function e(i,l){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/auth/register",{params:{name:t,email:a,password:n},headers:{Authorization:"Token ".concat(r),"Content-Type":"application/x-www-form-urlencoded"}}).then(i).catch(l);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(E.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,console.log("23",a,n),e.abrupt("return",new Promise(function(){var e=Object(E.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/auth/login",{email:a,password:n}).then(t).catch(r);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"delUser",value:function(){var e=Object(E.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(h.a.mark((function e(n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/auth/delete-user/".concat(t),{headers:{Authorization:"Token ".concat(a),"Content-Type":"application/x-www-form-urlencoded"}}).then(n).catch(r);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(E.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(h.a.mark((function e(n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/auth/user-profile/".concat(t),{headers:{Authorization:"Token ".concat(a),"Content-Type":"application/x-www-form-urlencoded"}}).then(n).catch(r);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(E.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(h.a.mark((function e(a,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/auth/users",{headers:{Authorization:"Token ".concat(t),"Content-Type":"application/x-www-form-urlencoded"}}).then(a).catch(n);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(E.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(h.a.mark((function e(n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("/api/auth/update-user/".concat(t),a).then(n).catch(r);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();var O=g.a.create({name:"login"})((function(e){var t=e.form,a=t.getFieldDecorator,i=Object(n.useState)(!1),l=Object(o.a)(i,2),c=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(d.a,{to:"/"}),r.a.createElement(g.a,{style:{width:"50%",minWidth:"300px"},onSubmit:function(e){e.preventDefault(),t.validateFieldsAndScroll(function(){var e=Object(E.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return e.next=3,j.login(a);case 3:"OK"==(n=e.sent).statusText&&(localStorage.setItem("_kToken",n.data.token),s(!0));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},r.a.createElement(g.a.Item,{label:"e-po\u0161ta",hasFeedback:!0},a("email",{rules:[{type:"email",message:"Neveljavna e-po\u0161ta!"},{required:!0,message:"Prosimo vnesite va\u0161o e-po\u0161to!"}]})(r.a.createElement(v.a,{prefix:r.a.createElement(u.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement(g.a.Item,{label:"geslo",hasFeedback:!0},a("password",{rules:[{required:!0,message:"Prosimo vnesite va\u0161e geslo!"}]})(r.a.createElement(v.a.Password,{prefix:r.a.createElement(u.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement(g.a.Item,null,r.a.createElement(b.a,{type:"primary",shape:"round",icon:"user",htmlType:"submit"},"Prijava"))))})),I=a(508),T=a(88),P=function(e){var t=e.title,a=e.link,n=e.icon,i=e.css,l=e.shape;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{to:a},r.a.createElement(b.a,{type:i||"primary",icon:n,shape:l||"round",size:"large"},t)))},D=I.a.Meta,F=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{title:"Dodaj to\u010dko",link:"/new/point",icon:"plus"}),r.a.createElement("hr",null),r.a.createElement("div",{style:{display:"flex",flexFlow:"row wrap",position:"relative"}},[1,2,3,4,5,6,7,8].map((function(e,t){return r.a.createElement(I.a,{key:t,hoverable:!0,style:{flex:"0 1 calc(25% - 16px)",margin:"8px"},cover:r.a.createElement("img",{src:"https://geospatialmedia.s3.amazonaws.com/wp-content/uploads/2018/11/location-tech.jpg"})},r.a.createElement(D,{title:"Random location"}),r.a.createElement("hr",null),r.a.createElement(T.a,{title:"Podroben ogled"},r.a.createElement(b.a,{style:{float:"right",marginLeft:"10px"},type:"secondary",shape:"circle",icon:"fullscreen",size:"large",href:"/details/point/".concat(t)})),r.a.createElement(T.a,{title:"Uredi"},r.a.createElement(b.a,{style:{float:"right"},type:"primary",shape:"circle",icon:"edit",size:"large",href:"/edit/point/".concat(t)})))}))))},A=a(509),S=a(506),q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{title:"Dodaj administratorja",link:"/new/admin",icon:"plus"}),r.a.createElement("hr",null),r.a.createElement(A.a,{itemLayout:"horizontal",dataSource:[{title:"Ant Design Title 1"},{title:"Ant Design Title 2"},{title:"Ant Design Title 3"},{title:"Ant Design Title 4"}],renderItem:function(e){return r.a.createElement(A.a.Item,null,r.a.createElement(A.a.Item.Meta,{avatar:r.a.createElement(S.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:r.a.createElement("a",{href:"https://ant.design"},e.title),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"}))}}))},z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{title:"Dodaj zahtevek",link:"/new/task",icon:"plus"}),r.a.createElement("hr",null),r.a.createElement(A.a,{itemLayout:"horizontal",dataSource:[{title:"Ant Design Title 1"},{title:"Ant Design Title 2"},{title:"Ant Design Title 3"},{title:"Ant Design Title 4"}],renderItem:function(e){return r.a.createElement(A.a.Item,null,r.a.createElement(A.a.Item.Meta,{avatar:r.a.createElement(S.a,{src:"https://cdn0.iconfinder.com/data/icons/education-gamification/1000/Task_Complete-512.png"}),title:r.a.createElement("a",{href:"https://ant.design"},e.title),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"}))}}))},C=function(){return r.a.createElement("div",null,"serbus")},R=a(244),U=a(237),B=a.n(U),L=a(513),N=function(e){var t=e.content,a=e.toggle,n=e.visibility,i=e.title;return r.a.createElement(L.a,{title:i,visible:n,onOk:a,cancelButtonProps:{style:{display:"none"}},width:"50vw"},t)},W=function(e){var t=e.type,a=Object(n.useState)(!1),i=Object(o.a)(a,2),l=i[0],c=i[1],s=Object(n.useState)(null),m=Object(o.a)(s,2),p=m[0],d=m[1],f=Object(n.useState)({lat:46.4441,lng:15.197}),h=Object(o.a)(f,2),E=h[0],v=h[1],y=Object(n.useState)([]),k=Object(o.a)(y,2),w=k[0],x=k[1],j=Object(n.useState)({title:"",images:"",description:""}),O=Object(o.a)(j,2),I=O[0],T=O[1],P=function(e){var t=e.position;e.address,e.places;v(t)},D=function(){c(!l),"pointForm"===p&&(x([].concat(Object(R.a)(w),[I])),T({title:"",images:"",description:""}))};return l?r.a.createElement(N,{title:{pointForm:"Obrazec to\u010dke",locationPicker:"Izbirnik lokacije"}[p],content:function(){switch(p){case"locationPicker":return r.a.createElement(B.a,{containerElement:r.a.createElement("div",{style:{height:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"400px"}}),defaultPosition:E,onChange:P});case"pointForm":return r.a.createElement("form",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1",class:"bmd-label-floating"},"Naslov"),r.a.createElement("input",{type:"text",class:"form-control",value:I.title,onChange:function(e){T({title:e.target.value,images:I.images,description:I.description})}})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1",class:"bmd-label-floating"},"Povezave slik"),r.a.createElement("textarea",{class:"form-control",value:I.images,onChange:function(e){T({title:I.title,images:e.target.value,description:I.description})}})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1",class:"bmd-label-floating"},"Opis"),r.a.createElement("textarea",{class:"form-control",value:I.description,onChange:function(e){T({title:I.title,images:I.images,description:e.target.value})}})));default:return"<p>Pri\u0161lo je do napake!</p>"}}(),visibility:l,toggle:D}):r.a.createElement(g.a,{style:{minWidth:"50%"}},r.a.createElement(g.a.Item,null,r.a.createElement(b.a,{onClick:function(){D(),d("locationPicker")},icon:"select",shape:"round",htmlType:"button",className:"login-form-button"},"Izberi lokacijo"),r.a.createElement("span",null," ",r.a.createElement(u.a,{type:"environment",style:{color:"#66c"}})," zemljepisna dol\u017eina: ",r.a.createElement("b",null,E.lng)," zemljepisna \u0161irina:"," ",r.a.createElement("b",null,E.lat)),r.a.createElement("hr",null)),r.a.createElement(g.a.Item,null,r.a.createElement(b.a,{icon:"plus",shape:"round",onClick:function(){D(),d("pointForm")}},"Dodaj zavihek"),r.a.createElement(A.a,{itemLayout:"horizontal",dataSource:w,renderItem:function(e){return r.a.createElement(A.a.Item,null,r.a.createElement(A.a.Item.Meta,{avatar:r.a.createElement(S.a,{src:"https://cdn0.iconfinder.com/data/icons/education-gamification/1000/Task_Complete-512.png"}),title:r.a.createElement("a",{href:"https://ant.design"},e.title),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"}))}}),r.a.createElement("hr",null)),r.a.createElement(g.a.Item,null,r.a.createElement(b.a,{onClick:function(){var e={position:E,tabs:w};console.log(e)},type:"primary",icon:"environment",shape:"round",htmlType:"submit",className:"login-form-button"},"edit"==t?"Posodobi":"Dodaj")))};var _=g.a.create({name:"admin"})((function(e){var t=e.form,a=e.type,i=Object(n.useState)(!1),l=Object(o.a)(i,2),c=l[0],s=l[1],m=t.getFieldDecorator;return r.a.createElement(g.a,{style:{width:"50%",minWidth:"300px"},onSubmit:function(e){e.preventDefault(),t.validateFieldsAndScroll(function(){var e=Object(E.a)(h.a.mark((function e(t,a){var n,r,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return n=a.fullname,r=a.email,i=a.password,e.next=4,j.register({fullname:n,email:r,password:i,_AUTH:"tkn"});case 4:l=e.sent,console.log(l),console.log("Received values of form: ",a);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},r.a.createElement(g.a.Item,{label:"ime & priimek"},m("fullname",{rules:[{required:!0,message:"Prosimo vnesite va\u0161e ime & priimek!"}]})(r.a.createElement(v.a,{prefix:r.a.createElement(u.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement(g.a.Item,{label:"e-po\u0161ta"},m("email",{rules:[{type:"email",message:"Neveljavna e-po\u0161ta!"},{required:!0,message:"Prosimo vnesite va\u0161o e-po\u0161to!"}]})(r.a.createElement(v.a,{prefix:r.a.createElement(u.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement(g.a.Item,{label:"geslo",hasFeedback:!0},m("password",{rules:[{required:!0,message:"Prosimo vnesite va\u0161e geslo!"},{validator:function(e,a,n){a&&c&&t.validateFields(["confirm"],{force:!0}),n()}}]})(r.a.createElement(v.a.Password,{prefix:r.a.createElement(u.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement(g.a.Item,{label:"potrdi geslo",hasFeedback:!0},m("confirm",{rules:[{required:!0,message:"Prosimo ponovite geslo!"},{validator:function(e,a,n){a&&a!==t.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()}}]})(r.a.createElement(v.a.Password,{prefix:r.a.createElement(u.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),onBlur:function(e){var t=e.target.value;s(c||!!t)}}))),r.a.createElement(g.a.Item,null,r.a.createElement(b.a,{type:"primary",shape:"round",icon:"user",htmlType:"submit"},"edit"==a?"Posodobi":"Dodaj")))})),H=v.a.TextArea;var M=g.a.create({name:"task"})((function(e){var t=e.form,a=e.type,n=t.getFieldDecorator;return r.a.createElement(g.a,{style:{width:"50%",minWidth:"300px"},onSubmit:function(e){e.preventDefault(),t.validateFieldsAndScroll((function(e,t){e||console.log("Received values of form: ",t)}))}},r.a.createElement(g.a.Item,{label:"naslov",hasFeedback:!0},n("title",{rules:[{required:!0,message:"Prosimo vnesite naslov!"}]})(r.a.createElement(v.a,{prefix:r.a.createElement(u.a,{type:"file-text",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement(g.a.Item,{label:"opis",hasFeedback:!0},n("description",{rules:[{required:!0,message:"Prosimo vnesite opis!"}]})(r.a.createElement(H,{rows:4}))),r.a.createElement(g.a.Item,null,r.a.createElement(b.a,{type:"primary",icon:"file",shape:"round",htmlType:"submit",className:"login-form-button"},"edit"==a?"Posodobi":"Dodaj")))})),J=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"indepth view for point"))};function K(e,t){localStorage.getItem("_kToken")||t({nextPathname:e.location.pathname},"/login")}var V=function(){var e=[{path:"/login",component:r.a.createElement(O,null),authRequired:!1},{path:"/points",component:r.a.createElement(F,null),authRequired:!0},{path:"/admins",component:r.a.createElement(q,null),authRequired:!0},{path:"/documentation",component:r.a.createElement(C,null),authRequired:!1},{path:"/tasks",component:r.a.createElement(z,null),authRequired:!0},{path:"/new/point",component:r.a.createElement(W,{type:"new"}),authRequired:!0},{path:"/new/admin",component:r.a.createElement(_,{type:"new"}),authRequired:!0},{path:"/new/task",component:r.a.createElement(M,{type:"new"}),authRequired:!0},{path:"/edit/point/:id",component:r.a.createElement(W,{type:"edit"}),authRequired:!0},{path:"/edit/admin/:id",component:r.a.createElement(_,{type:"edit"}),authRequired:!0},{path:"/edit/task/:id",component:r.a.createElement(M,{type:"edit"}),authRequired:!0},{path:"/details/point/:id",component:r.a.createElement(J,null),authRequired:!0}];return r.a.createElement(d.d,null,e.map((function(e){var t=e.path,a=e.component,n=e.authRequired;return r.a.createElement(d.b,{key:t,path:t,onEnter:!n||K},a)})))},X=a(241),Y=a.n(X),Z=a(242),$=a.n(Z),G=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{padding:20}},r.a.createElement("img",{style:{width:"100%",marginBottom:15},src:Y.a}),r.a.createElement("img",{style:{width:"100%",padding:15,paddingBottom:0},src:$.a})),r.a.createElement("hr",null))},Q=a(162),ee=function(e){var t=e.title,a=e.link,n=e.icon;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{to:a}),r.a.createElement(u.a,{type:n}),r.a.createElement("span",null,t))},te=function(){return r.a.createElement(Q.a,{theme:"dark",style:{background:"#345"},mode:"inline"},r.a.createElement(Q.a.Item,{key:"/points"},r.a.createElement(ee,{link:"/points",title:"To\u010dke",icon:"environment"})),r.a.createElement(Q.a.Item,{key:"/admins"},r.a.createElement(ee,{link:"/admins",title:"Administratorji",icon:"user"})),r.a.createElement(Q.a.Item,{key:"/documentation"},r.a.createElement(ee,{link:"/documentation",title:"Dokumentacija",icon:"file-search"})),r.a.createElement(Q.a.Item,{key:"/tasks"},r.a.createElement(ee,{link:"/tasks",title:"Zahtevki",icon:"pushpin"})),r.a.createElement(Q.a.Item,{key:"/login"},r.a.createElement(ee,{link:"/login",title:"Odjava",icon:"logout"})))},ae=function(){return r.a.createElement(Q.a,{theme:"dark",style:{background:"#345"},mode:"inline"},r.a.createElement(Q.a.Item,{key:"/points"},r.a.createElement(ee,{link:"/points",title:"To\u010dke",icon:"environment"})),r.a.createElement(Q.a.Item,{key:"/documentation"},r.a.createElement(ee,{link:"/documentation",title:"Dokumentacija",icon:"file-search"})),r.a.createElement(Q.a.Item,{key:"/login"},r.a.createElement(ee,{link:"/login",title:"Prijava",icon:"login"})))},ne=c.a.Header,re=c.a.Content,ie=c.a.Footer,le=c.a.Sider,oe=s.a.Title;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(localStorage.getItem("_kToken")||void 0),s=Object(o.a)(l,2),d=s[0];s[1];return r.a.createElement(c.a,{style:{minHeight:"100vh"}},r.a.createElement(p.a,null,r.a.createElement(le,{style:{background:"#345"},width:"300",collapsible:!0,collapsed:a,onCollapse:i},!a&&r.a.createElement(G,null),d?r.a.createElement(te,null):r.a.createElement(ae,null)),r.a.createElement(c.a,null,r.a.createElement(ne,{style:{background:"#002140",padding:10,borderLeft:"1px solid white",boxShadow:"0 4px 2px -2px gray"}},r.a.createElement(oe,{style:{color:"#fff"}},r.a.createElement(u.a,{type:"dashboard"})," Kois Administracija")),r.a.createElement(re,{style:{margin:"0 16px"}},r.a.createElement(m.a,{style:{margin:"16px 0"}}),r.a.createElement("div",{id:"container",style:{padding:24,background:"#fff",minHeight:"40vh"}},r.a.createElement(V,null))),r.a.createElement(ie,{style:{textAlign:"center"}},"Samo Pritrznik & Janez Sedeljsak 2019/20 \xa9"))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[248,1,2]]]);
//# sourceMappingURL=main.5d820690.chunk.js.map